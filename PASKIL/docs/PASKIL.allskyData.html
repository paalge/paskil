
<!doctype html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module PASKIL.allskyData</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="PASKIL.html"><font color="#ffffff">PASKIL</font></a>.allskyData</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/nialp/workspace/PASKIL/docs/PASKIL/allskyData.py">/home/nialp/workspace/PASKIL/docs/PASKIL/allskyData.py</a></font></td></tr></table>
    <p><tt>Introduction:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;allskyData&nbsp;module&nbsp;provides&nbsp;a&nbsp;set&nbsp;of&nbsp;tools&nbsp;to&nbsp;simplify&nbsp;the&nbsp;use&nbsp;of&nbsp;large&nbsp;data&nbsp;sets&nbsp;which&nbsp;may&nbsp;span&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;across&nbsp;a&nbsp;complicated&nbsp;directory&nbsp;structure.&nbsp;It&nbsp;provides&nbsp;an&nbsp;abstraction&nbsp;layer&nbsp;between&nbsp;the&nbsp;user&nbsp;and&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;locations&nbsp;of&nbsp;the&nbsp;images&nbsp;to&nbsp;be&nbsp;used,&nbsp;allowing&nbsp;image&nbsp;access&nbsp;by&nbsp;time&nbsp;rather&nbsp;than&nbsp;filename.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Concepts:<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;allskyData&nbsp;module&nbsp;contains&nbsp;a&nbsp;<a href="#dataset">dataset</a>&nbsp;class.&nbsp;This&nbsp;is&nbsp;essentially&nbsp;three&nbsp;ordered&nbsp;lists.&nbsp;One&nbsp;of&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;filenames,&nbsp;one&nbsp;of&nbsp;times&nbsp;and&nbsp;one&nbsp;of&nbsp;filenames&nbsp;for&nbsp;site&nbsp;information&nbsp;files.&nbsp;A&nbsp;<a href="#dataset">dataset</a>&nbsp;object&nbsp;is&nbsp;created&nbsp;by&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;indexing&nbsp;the&nbsp;images&nbsp;in&nbsp;a&nbsp;directory&nbsp;structure.&nbsp;A&nbsp;<a href="#dataset">dataset</a>&nbsp;can&nbsp;only&nbsp;contain&nbsp;images&nbsp;of&nbsp;the&nbsp;same&nbsp;Wavelength<br>
&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;mode&nbsp;(see&nbsp;PIL&nbsp;handbook&nbsp;for&nbsp;description&nbsp;of&nbsp;mode).&nbsp;However,&nbsp;datasets&nbsp;containing&nbsp;different&nbsp;image&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;formats&nbsp;are&nbsp;possible.&nbsp;Once&nbsp;created,&nbsp;a&nbsp;<a href="#dataset">dataset</a>&nbsp;object&nbsp;allows&nbsp;images&nbsp;to&nbsp;be&nbsp;retrieved&nbsp;by&nbsp;their&nbsp;creation&nbsp;time&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;rather&nbsp;than&nbsp;their&nbsp;filename.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;very&nbsp;large&nbsp;datasets,&nbsp;the&nbsp;indexing&nbsp;process&nbsp;can&nbsp;take&nbsp;some&nbsp;time.&nbsp;There&nbsp;is&nbsp;therefore&nbsp;the&nbsp;option&nbsp;to&nbsp;save<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;<a href="#dataset">dataset</a>&nbsp;object&nbsp;once&nbsp;it&nbsp;is&nbsp;created.&nbsp;This&nbsp;allows&nbsp;the&nbsp;same&nbsp;<a href="#dataset">dataset</a>&nbsp;to&nbsp;be&nbsp;loaded&nbsp;rapidly&nbsp;in&nbsp;the&nbsp;future.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;However,&nbsp;no&nbsp;checks&nbsp;are&nbsp;made&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;<a href="#dataset">dataset</a>&nbsp;object&nbsp;still&nbsp;matches&nbsp;the&nbsp;actual&nbsp;data.&nbsp;If&nbsp;the&nbsp;data<br>
&nbsp;&nbsp;&nbsp;&nbsp;has&nbsp;been&nbsp;changed&nbsp;in&nbsp;any&nbsp;way,&nbsp;then&nbsp;an&nbsp;exception&nbsp;will&nbsp;be&nbsp;raised&nbsp;when&nbsp;the&nbsp;<a href="#dataset">dataset</a>&nbsp;is&nbsp;loaded&nbsp;again.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Dataset&nbsp;objects&nbsp;implement&nbsp;the&nbsp;iterator&nbsp;protocol&nbsp;and&nbsp;can&nbsp;therefore&nbsp;be&nbsp;used&nbsp;in&nbsp;for&nbsp;loops.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;<br>
Example:<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;following&nbsp;example&nbsp;creates&nbsp;a&nbsp;<a href="#dataset">dataset</a>&nbsp;of&nbsp;all&nbsp;the&nbsp;png&nbsp;and&nbsp;jpg&nbsp;files&nbsp;in&nbsp;the&nbsp;directory&nbsp;"Allsky&nbsp;Images".&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;recursive&nbsp;option&nbsp;is&nbsp;not&nbsp;used,&nbsp;so&nbsp;subfolders&nbsp;will&nbsp;not&nbsp;be&nbsp;included.&nbsp;Only&nbsp;images&nbsp;corresponding&nbsp;to&nbsp;a&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;wavelength&nbsp;of&nbsp;630nm&nbsp;are&nbsp;included.&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;the&nbsp;files&nbsp;between&nbsp;18:30&nbsp;and&nbsp;19:30&nbsp;on&nbsp;the&nbsp;4/2/2003&nbsp;is&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;printed&nbsp;to&nbsp;the&nbsp;screen.&nbsp;The&nbsp;iterator&nbsp;protocol&nbsp;is&nbsp;then&nbsp;used&nbsp;to&nbsp;apply&nbsp;a&nbsp;binary&nbsp;mask&nbsp;to&nbsp;all&nbsp;the&nbsp;images<br>
&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;<a href="#dataset">dataset</a>.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;PASKIL&nbsp;import&nbsp;allskyData<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;datetime<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#create&nbsp;<a href="#dataset">dataset</a>&nbsp;object<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#dataset">dataset</a>=allskyData.<a href="#-new">new</a>("Allsky&nbsp;Images","630",["png","jpg"],site_info_file="site_info.txt")&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#create&nbsp;datetime&nbsp;object&nbsp;defining&nbsp;start&nbsp;time&nbsp;for&nbsp;list<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_time=datetime.datetime.strptime("04&nbsp;Feb&nbsp;2003&nbsp;18:30:00&nbsp;GMT","%d&nbsp;%b&nbsp;%Y&nbsp;%H:%M:%S&nbsp;%Z")<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#create&nbsp;datetime&nbsp;object&nbsp;defining&nbsp;end&nbsp;time&nbsp;for&nbsp;list&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end_time=datetime.datetime.strptime("04&nbsp;Feb&nbsp;2003&nbsp;19:30:00&nbsp;GMT","%d&nbsp;%b&nbsp;%Y&nbsp;%H:%M:%S&nbsp;%Z")&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#get&nbsp;names&nbsp;of&nbsp;files&nbsp;between&nbsp;start&nbsp;and&nbsp;end&nbsp;times.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filenames=<a href="#dataset">dataset</a>.getFilenamesInRange(start_time,end_time)&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;filenames<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#alternatively&nbsp;we&nbsp;can&nbsp;use&nbsp;the&nbsp;iterator&nbsp;to&nbsp;process&nbsp;the&nbsp;images<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;im&nbsp;in&nbsp;<a href="#dataset">dataset</a>:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;im.binaryMask(75)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;im.save("masked-"+im.getFilename())</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#fffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="PASKIL.allskyImage.html">PASKIL.allskyImage</a><br>
<a href="cPickle.html">cPickle</a><br>
</td><td width="25%" valign=top><a href="datetime.html">datetime</a><br>
<a href="glob.html">glob</a><br>
</td><td width="25%" valign=top><a href="PASKIL.misc.html">PASKIL.misc</a><br>
<a href="os.html">os</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="PASKIL.allskyData.html#dataset">dataset</a>
</font></dt><dt><font face="helvetica, arial"><a href="PASKIL.allskyData.html#datasetIterator">datasetIterator</a>
</font></dt></dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="dataset">class <strong>dataset</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Essentially&nbsp;the&nbsp;<a href="#dataset">dataset</a>&nbsp;class&nbsp;operates&nbsp;like&nbsp;a&nbsp;hash&nbsp;table,&nbsp;with&nbsp;times&nbsp;(datetime&nbsp;objects)&nbsp;as&nbsp;keys&nbsp;and&nbsp;<br>
filenames&nbsp;of&nbsp;images&nbsp;and&nbsp;their&nbsp;corresponding&nbsp;site_info_files&nbsp;(if&nbsp;any)&nbsp;as&nbsp;values.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="dataset-__init__"><strong>__init__</strong></a>(self, data, wavelength, filetype, mode, radii, fov_angles, colour_table, calib_factor)</dt></dl>

<dl><dt><a name="dataset-__iter__"><strong>__iter__</strong></a>(self)</dt></dl>

<dl><dt><a name="dataset-crop"><strong>crop</strong></a>(self, start_time, end_time)</dt><dd><tt>Returns&nbsp;a&nbsp;new&nbsp;<a href="#dataset">dataset</a>&nbsp;object&nbsp;which&nbsp;only&nbsp;spans&nbsp;the&nbsp;time&nbsp;range&nbsp;between&nbsp;start_time&nbsp;and&nbsp;end_time.<br>
Both&nbsp;arguments&nbsp;should&nbsp;be&nbsp;datetime&nbsp;objects.</tt></dd></dl>

<dl><dt><a name="dataset-getAll"><strong>getAll</strong></a>(self)</dt><dd><tt>Returns&nbsp;a&nbsp;list&nbsp;of&nbsp;tuples&nbsp;of&nbsp;strings&nbsp;containing&nbsp;the&nbsp;names&nbsp;of&nbsp;all&nbsp;the&nbsp;files&nbsp;in&nbsp;the&nbsp;<a href="#dataset">dataset</a>&nbsp;and&nbsp;<br>
their&nbsp;corresponding&nbsp;site&nbsp;info&nbsp;files,&nbsp;e.g.&nbsp;[(image1,site_info1),(image2,site_info2)...]</tt></dd></dl>

<dl><dt><a name="dataset-getCalib_factor"><strong>getCalib_factor</strong></a>(self)</dt><dd><tt>Returns&nbsp;a&nbsp;float&nbsp;containing&nbsp;the&nbsp;absolute&nbsp;calibration&nbsp;factor&nbsp;(conversion&nbsp;factor<br>
between&nbsp;pixel&nbsp;value&nbsp;and&nbsp;kR)&nbsp;for&nbsp;the&nbsp;images&nbsp;in&nbsp;the&nbsp;<a href="#dataset">dataset</a>.</tt></dd></dl>

<dl><dt><a name="dataset-getColourTable"><strong>getColourTable</strong></a>(self)</dt><dd><tt>Returns&nbsp;the&nbsp;colour&nbsp;table&nbsp;that&nbsp;has&nbsp;been&nbsp;applied&nbsp;to&nbsp;the&nbsp;images&nbsp;in&nbsp;the&nbsp;<a href="#dataset">dataset</a>,&nbsp;or&nbsp;None.</tt></dd></dl>

<dl><dt><a name="dataset-getFilenames"><strong>getFilenames</strong></a>(self)</dt><dd><tt>Returns&nbsp;a&nbsp;list&nbsp;of&nbsp;strings&nbsp;containing&nbsp;the&nbsp;filenames&nbsp;of&nbsp;all&nbsp;the&nbsp;images&nbsp;contained&nbsp;in&nbsp;the&nbsp;<a href="#dataset">dataset</a>.<br>
The&nbsp;list&nbsp;will&nbsp;be&nbsp;ordered&nbsp;chronologically&nbsp;with&nbsp;respect&nbsp;to&nbsp;the&nbsp;capture&nbsp;times&nbsp;of&nbsp;the&nbsp;images.</tt></dd></dl>

<dl><dt><a name="dataset-getFilenamesInRange"><strong>getFilenamesInRange</strong></a>(self, time1, time2)</dt><dd><tt>Returns&nbsp;a&nbsp;list&nbsp;of&nbsp;tuples&nbsp;of&nbsp;strings&nbsp;containing&nbsp;the&nbsp;names&nbsp;of&nbsp;all&nbsp;the&nbsp;files&nbsp;in&nbsp;the&nbsp;<a href="#dataset">dataset</a>&nbsp;that&nbsp;<br>
correspond&nbsp;to&nbsp;times&nbsp;between&nbsp;time1&nbsp;and&nbsp;time2&nbsp;inclusive&nbsp;and&nbsp;their&nbsp;corresponding&nbsp;site&nbsp;info&nbsp;files,&nbsp;<br>
e.g.&nbsp;[(image1,site_info1),(image2,site_info2)...]<br>
&nbsp;<br>
The&nbsp;list&nbsp;will&nbsp;be&nbsp;ordered&nbsp;in&nbsp;chronological&nbsp;order.&nbsp;The&nbsp;time&nbsp;arguments&nbsp;should&nbsp;be&nbsp;datetime&nbsp;objects.<br>
If&nbsp;there&nbsp;are&nbsp;a&nbsp;lot&nbsp;of&nbsp;images&nbsp;in&nbsp;the&nbsp;range&nbsp;then&nbsp;it&nbsp;is&nbsp;recommended&nbsp;to&nbsp;use&nbsp;this&nbsp;method&nbsp;rather&nbsp;than<br>
<a href="#dataset-getImagesInRange">getImagesInRange</a>(time1,time2),&nbsp;as&nbsp;it&nbsp;uses&nbsp;far&nbsp;less&nbsp;memory.&nbsp;Both&nbsp;arguments&nbsp;should&nbsp;be&nbsp;datetime&nbsp;objects.</tt></dd></dl>

<dl><dt><a name="dataset-getFiletypes"><strong>getFiletypes</strong></a>(self)</dt><dd><tt>Returns&nbsp;a&nbsp;list&nbsp;of&nbsp;strings&nbsp;of&nbsp;the&nbsp;filetypes&nbsp;contained&nbsp;in&nbsp;the&nbsp;<a href="#dataset">dataset</a>&nbsp;e.g.&nbsp;["png","jpg"]</tt></dd></dl>

<dl><dt><a name="dataset-getFov_angles"><strong>getFov_angles</strong></a>(self)</dt><dd><tt>Returns&nbsp;a&nbsp;set&nbsp;(only&nbsp;unique&nbsp;values)&nbsp;of&nbsp;field&nbsp;of&nbsp;view&nbsp;angles&nbsp;contained&nbsp;in&nbsp;the&nbsp;<a href="#dataset">dataset</a></tt></dd></dl>

<dl><dt><a name="dataset-getImage"><strong>getImage</strong></a>(self, time)</dt><dd><tt>Returns&nbsp;an&nbsp;allskyImage&nbsp;object&nbsp;containing&nbsp;the&nbsp;image&nbsp;data&nbsp;for&nbsp;the&nbsp;specified&nbsp;time.&nbsp;If&nbsp;no&nbsp;image&nbsp;<br>
exists&nbsp;for&nbsp;the&nbsp;specified&nbsp;time&nbsp;then&nbsp;None&nbsp;is&nbsp;returned.&nbsp;The&nbsp;time&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;datetime&nbsp;<br>
object.</tt></dd></dl>

<dl><dt><a name="dataset-getImagesInRange"><strong>getImagesInRange</strong></a>(self, time1, time2)</dt><dd><tt>Returns&nbsp;a&nbsp;list&nbsp;of&nbsp;allskyImage&nbsp;objects&nbsp;containing&nbsp;all&nbsp;the&nbsp;images&nbsp;that&nbsp;correspond&nbsp;to&nbsp;times&nbsp;between<br>
time1&nbsp;and&nbsp;time2&nbsp;inclusive.&nbsp;The&nbsp;list&nbsp;will&nbsp;be&nbsp;ordered&nbsp;in&nbsp;chronological&nbsp;order.&nbsp;The&nbsp;time&nbsp;arguments&nbsp;<br>
should&nbsp;be&nbsp;datetime&nbsp;objects.&nbsp;This&nbsp;function&nbsp;creates&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;allskyImage&nbsp;class&nbsp;for&nbsp;<br>
each&nbsp;image&nbsp;in&nbsp;the&nbsp;range.&nbsp;If&nbsp;there&nbsp;are&nbsp;a&nbsp;large&nbsp;number&nbsp;of&nbsp;images&nbsp;in&nbsp;the&nbsp;range&nbsp;then&nbsp;it&nbsp;will&nbsp;use&nbsp;a&nbsp;<br>
lot&nbsp;of&nbsp;memory&nbsp;and&nbsp;may&nbsp;result&nbsp;in&nbsp;memory&nbsp;overflow&nbsp;-&nbsp;you&nbsp;have&nbsp;been&nbsp;warned!</tt></dd></dl>

<dl><dt><a name="dataset-getMode"><strong>getMode</strong></a>(self)</dt><dd><tt>Returns&nbsp;a&nbsp;string&nbsp;containing&nbsp;the&nbsp;mode&nbsp;of&nbsp;the&nbsp;images&nbsp;in&nbsp;the&nbsp;<a href="#dataset">dataset</a>,&nbsp;e.g.&nbsp;"RGB"&nbsp;see&nbsp;the&nbsp;PIL&nbsp;handbook<br>
for&nbsp;details&nbsp;about&nbsp;different&nbsp;image&nbsp;modes.</tt></dd></dl>

<dl><dt><a name="dataset-getNearest"><strong>getNearest</strong></a>(self, time)</dt><dd><tt>Returns&nbsp;an&nbsp;allskyImage&nbsp;object&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;image&nbsp;in&nbsp;the&nbsp;<a href="#dataset">dataset</a>&nbsp;which&nbsp;has&nbsp;a&nbsp;creation&nbsp;time&nbsp;<br>
closest&nbsp;to&nbsp;the&nbsp;specified&nbsp;time.&nbsp;The&nbsp;time&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;datetime&nbsp;object.</tt></dd></dl>

<dl><dt><a name="dataset-getRadii"><strong>getRadii</strong></a>(self)</dt><dd><tt>Returns&nbsp;a&nbsp;set&nbsp;(only&nbsp;unique&nbsp;values)&nbsp;of&nbsp;the&nbsp;field&nbsp;of&nbsp;view&nbsp;radii&nbsp;of&nbsp;the&nbsp;images&nbsp;in&nbsp;the&nbsp;<a href="#dataset">dataset</a>&nbsp;in&nbsp;pixels.</tt></dd></dl>

<dl><dt><a name="dataset-getSite_info_files"><strong>getSite_info_files</strong></a>(self)</dt><dd><tt>Returns&nbsp;a&nbsp;list&nbsp;of&nbsp;strings&nbsp;containing&nbsp;the&nbsp;filenames&nbsp;of&nbsp;the&nbsp;site_info_files&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;<br>
images&nbsp;in&nbsp;the&nbsp;<a href="#dataset">dataset</a>.&nbsp;The&nbsp;list&nbsp;will&nbsp;have&nbsp;one&nbsp;entry&nbsp;for&nbsp;each&nbsp;image&nbsp;in&nbsp;the&nbsp;<a href="#dataset">dataset</a>&nbsp;and&nbsp;will&nbsp;be&nbsp;<br>
ordered&nbsp;chronologically&nbsp;with&nbsp;respect&nbsp;to&nbsp;the&nbsp;capture&nbsp;times&nbsp;of&nbsp;the&nbsp;images.&nbsp;If&nbsp;the&nbsp;images&nbsp;don't&nbsp;<br>
have&nbsp;site_info_files&nbsp;then&nbsp;a&nbsp;list&nbsp;of&nbsp;empty&nbsp;strings&nbsp;will&nbsp;be&nbsp;returned.</tt></dd></dl>

<dl><dt><a name="dataset-getTimes"><strong>getTimes</strong></a>(self)</dt><dd><tt>Returns&nbsp;a&nbsp;list&nbsp;of&nbsp;datetime&nbsp;objects&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;capture&nbsp;times&nbsp;of&nbsp;all&nbsp;the&nbsp;images&nbsp;in&nbsp;the<br>
<a href="#dataset">dataset</a>.&nbsp;The&nbsp;list&nbsp;will&nbsp;be&nbsp;ordered&nbsp;chronologically.</tt></dd></dl>

<dl><dt><a name="dataset-getWavelength"><strong>getWavelength</strong></a>(self)</dt><dd><tt>Returns&nbsp;a&nbsp;string&nbsp;containing&nbsp;the&nbsp;wavelength&nbsp;of&nbsp;the&nbsp;<a href="#dataset">dataset</a>.&nbsp;This&nbsp;will&nbsp;have&nbsp;the&nbsp;same&nbsp;format&nbsp;as&nbsp;the<br>
'Wavelength'&nbsp;field&nbsp;in&nbsp;the&nbsp;image&nbsp;metadata,&nbsp;see&nbsp;the&nbsp;allskyImagePlugins&nbsp;module&nbsp;for&nbsp;details.</tt></dd></dl>

<dl><dt><a name="dataset-save"><strong>save</strong></a>(self, filename)</dt><dd><tt>Saves&nbsp;the&nbsp;<a href="#dataset">dataset</a>&nbsp;object&nbsp;in&nbsp;specified&nbsp;file.&nbsp;It&nbsp;can&nbsp;be&nbsp;retrieved&nbsp;at&nbsp;a&nbsp;later&nbsp;date&nbsp;using&nbsp;the&nbsp;<a href="#-load">load</a>()<br>
function.&nbsp;However,&nbsp;be&nbsp;aware&nbsp;that&nbsp;changing&nbsp;the&nbsp;image&nbsp;files,&nbsp;the&nbsp;site&nbsp;information&nbsp;files&nbsp;or&nbsp;the&nbsp;<br>
directory&nbsp;structure&nbsp;of&nbsp;the&nbsp;images&nbsp;stored&nbsp;in&nbsp;a&nbsp;<a href="#dataset">dataset</a>&nbsp;after&nbsp;it&nbsp;has&nbsp;been&nbsp;created&nbsp;may&nbsp;cause&nbsp;<br>
unpredictable&nbsp;results.&nbsp;If&nbsp;you&nbsp;need&nbsp;to&nbsp;change&nbsp;the&nbsp;files&nbsp;somehow,&nbsp;then&nbsp;it&nbsp;is&nbsp;better&nbsp;to&nbsp;create&nbsp;a&nbsp;<br>
new&nbsp;<a href="#dataset">dataset</a>&nbsp;object&nbsp;using&nbsp;the&nbsp;new&nbsp;files.</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="datasetIterator">class <strong>datasetIterator</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Iterator&nbsp;class&nbsp;for&nbsp;the&nbsp;<a href="#dataset">dataset</a>&nbsp;class.&nbsp;Allows&nbsp;you&nbsp;to&nbsp;use&nbsp;"for&nbsp;image&nbsp;in&nbsp;<a href="#dataset">dataset</a>:"<br>
constructs&nbsp;for&nbsp;iterating&nbsp;over&nbsp;all&nbsp;images&nbsp;in&nbsp;a&nbsp;<a href="#dataset">dataset</a>.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="datasetIterator-__init__"><strong>__init__</strong></a>(self, filenames)</dt></dl>

<dl><dt><a name="datasetIterator-__iter__"><strong>__iter__</strong></a>(self)</dt><dd><tt>Method&nbsp;required&nbsp;by&nbsp;iterator&nbsp;protocol.&nbsp;Allows&nbsp;iterator&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;for&nbsp;loops.</tt></dd></dl>

<dl><dt><a name="datasetIterator-next"><strong>next</strong></a>(self)</dt><dd><tt>Required&nbsp;for&nbsp;the&nbsp;iterator&nbsp;protocol.&nbsp;Returns&nbsp;the&nbsp;next&nbsp;allskyImage&nbsp;in&nbsp;the&nbsp;<a href="#dataset">dataset</a>,&nbsp;with&nbsp;the&nbsp;image<br>
data&nbsp;already&nbsp;loaded.</tt></dd></dl>

</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-combine"><strong>combine</strong></a>(datasets)</dt><dd><tt>Returns&nbsp;a&nbsp;<a href="#dataset">dataset</a>&nbsp;object&nbsp;which&nbsp;is&nbsp;the&nbsp;combination&nbsp;of&nbsp;all&nbsp;the&nbsp;datasets&nbsp;in&nbsp;the&nbsp;specified&nbsp;list.&nbsp;The&nbsp;<br>
datasets&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;list&nbsp;of&nbsp;<a href="#dataset">dataset</a>&nbsp;objects.&nbsp;It&nbsp;is&nbsp;not&nbsp;possible&nbsp;to&nbsp;combine&nbsp;datasets&nbsp;with&nbsp;<br>
different&nbsp;wavelengths,&nbsp;image&nbsp;modes&nbsp;or&nbsp;colour&nbsp;tables.&nbsp;It&nbsp;is&nbsp;however,&nbsp;possible&nbsp;to&nbsp;combine&nbsp;datasets&nbsp;with&nbsp;<br>
different&nbsp;filetypes&nbsp;and&nbsp;different&nbsp;site&nbsp;information&nbsp;files.&nbsp;Files&nbsp;which&nbsp;appear&nbsp;in&nbsp;more&nbsp;than&nbsp;one&nbsp;of&nbsp;the&nbsp;<br>
datasets&nbsp;to&nbsp;be&nbsp;combined,&nbsp;will&nbsp;only&nbsp;appear&nbsp;once&nbsp;in&nbsp;the&nbsp;new&nbsp;<a href="#dataset">dataset</a>.</tt></dd></dl>
 <dl><dt><a name="-fromList"><strong>fromList</strong></a>(file_names, wavelength, filetype, site_info_file<font color="#909090">=''</font>)</dt><dd><tt>Creates&nbsp;a&nbsp;<a href="#dataset">dataset</a>&nbsp;from&nbsp;a&nbsp;list&nbsp;of&nbsp;filenames.&nbsp;The&nbsp;file_names&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;list&nbsp;of&nbsp;strings&nbsp;specifying<br>
the&nbsp;filenames&nbsp;of&nbsp;the&nbsp;files&nbsp;to&nbsp;be&nbsp;included.&nbsp;The&nbsp;wavelength&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;string&nbsp;that&nbsp;matches&nbsp;the&nbsp;<br>
value&nbsp;of&nbsp;the&nbsp;'Wavelength'&nbsp;field&nbsp;in&nbsp;the&nbsp;image&nbsp;metadata&nbsp;see&nbsp;allskyImagePlugins&nbsp;module&nbsp;for&nbsp;details.&nbsp;The&nbsp;<br>
site_info_file&nbsp;option&nbsp;should&nbsp;be&nbsp;the&nbsp;filename&nbsp;of&nbsp;the&nbsp;site&nbsp;information&nbsp;file&nbsp;(if&nbsp;one&nbsp;is&nbsp;required).&nbsp;This&nbsp;is<br>
an&nbsp;optional&nbsp;file&nbsp;containing&nbsp;image&nbsp;metadata.&nbsp;A&nbsp;filepointer&nbsp;to&nbsp;this&nbsp;file&nbsp;is&nbsp;passed&nbsp;to&nbsp;the&nbsp;allskyImagePlugin<br>
open&nbsp;method,&nbsp;see&nbsp;the&nbsp;allskyImagePlugins&nbsp;module&nbsp;for&nbsp;details.&nbsp;The&nbsp;default&nbsp;value&nbsp;is&nbsp;"",&nbsp;no&nbsp;site_info_file.&nbsp;The<br>
filetype&nbsp;argument&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;filetypes&nbsp;(e.g.&nbsp;["png","jpg"]),&nbsp;so&nbsp;a&nbsp;<a href="#dataset">dataset</a>&nbsp;spanning&nbsp;many&nbsp;filetypes&nbsp;can&nbsp;be&nbsp;<br>
prodcued&nbsp;using&nbsp;this&nbsp;function&nbsp;(if&nbsp;only&nbsp;a&nbsp;single&nbsp;filetype&nbsp;is&nbsp;desired&nbsp;then&nbsp;it&nbsp;must&nbsp;be&nbsp;specified&nbsp;as&nbsp;["filetype"]).<br>
A&nbsp;<a href="#dataset">dataset</a>&nbsp;spanning&nbsp;images&nbsp;with&nbsp;different&nbsp;site&nbsp;info&nbsp;files&nbsp;can&nbsp;only&nbsp;be&nbsp;produced&nbsp;by&nbsp;combining&nbsp;several&nbsp;datasets&nbsp;<br>
with&nbsp;different&nbsp;site&nbsp;info&nbsp;files.&nbsp;Note&nbsp;that&nbsp;images&nbsp;in&nbsp;the&nbsp;list&nbsp;supplied&nbsp;which&nbsp;do&nbsp;not&nbsp;conform&nbsp;to&nbsp;the&nbsp;<a href="#dataset">dataset</a>'s&nbsp;<br>
parameters&nbsp;will&nbsp;be&nbsp;ignored.&nbsp;If&nbsp;no&nbsp;images&nbsp;are&nbsp;found&nbsp;that&nbsp;can&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;<a href="#dataset">dataset</a>&nbsp;then&nbsp;ValueError&nbsp;is&nbsp;raised.</tt></dd></dl>
 <dl><dt><a name="-load"><strong>load</strong></a>(filename)</dt><dd><tt>Loads&nbsp;a&nbsp;<a href="#dataset">dataset</a>&nbsp;object&nbsp;from&nbsp;a&nbsp;file.&nbsp;Dataset&nbsp;files&nbsp;can&nbsp;be&nbsp;produced&nbsp;using&nbsp;the&nbsp;save()&nbsp;method.</tt></dd></dl>
 <dl><dt><a name="-new"><strong>new</strong></a>(directory, wavelength, filetype, site_info_file<font color="#909090">=None</font>, recursive<font color="#909090">=False</font>)</dt><dd><tt>Returns&nbsp;a&nbsp;<a href="#dataset">dataset</a>&nbsp;object&nbsp;containing&nbsp;images&nbsp;of&nbsp;type&nbsp;filetype,&nbsp;taken&nbsp;at&nbsp;a&nbsp;wavelength&nbsp;of&nbsp;wavelength&nbsp;(needs<br>
to&nbsp;be&nbsp;the&nbsp;same&nbsp;value&nbsp;as&nbsp;in&nbsp;the&nbsp;image&nbsp;header&nbsp;under&nbsp;'Wavelength'&nbsp;see&nbsp;allskyImagePlugins&nbsp;module&nbsp;for&nbsp;details),&nbsp;<br>
contained&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.&nbsp;If&nbsp;recursive&nbsp;is&nbsp;set&nbsp;to&nbsp;True&nbsp;then&nbsp;all&nbsp;subdirectories&nbsp;of&nbsp;"directory"&nbsp;<br>
will&nbsp;be&nbsp;searched,&nbsp;the&nbsp;default&nbsp;value&nbsp;is&nbsp;False&nbsp;no&nbsp;recursive&nbsp;search.&nbsp;The&nbsp;site_info_file&nbsp;option&nbsp;should&nbsp;be&nbsp;the&nbsp;<br>
filename&nbsp;of&nbsp;the&nbsp;site&nbsp;information&nbsp;file&nbsp;(if&nbsp;one&nbsp;is&nbsp;required).&nbsp;This&nbsp;is&nbsp;an&nbsp;optional&nbsp;file&nbsp;containing&nbsp;image&nbsp;<br>
metadata.&nbsp;A&nbsp;filepointer&nbsp;to&nbsp;this&nbsp;file&nbsp;is&nbsp;passed&nbsp;to&nbsp;the&nbsp;allskyImagePlugin&nbsp;open&nbsp;method,&nbsp;see&nbsp;the&nbsp;allskyImagePlugins&nbsp;<br>
module&nbsp;for&nbsp;details.&nbsp;The&nbsp;default&nbsp;value&nbsp;is&nbsp;None,&nbsp;no&nbsp;site_info_file.&nbsp;The&nbsp;filetype&nbsp;argument&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;<br>
filetypes&nbsp;(e.g.&nbsp;["png","jpg"]),&nbsp;so&nbsp;a&nbsp;<a href="#dataset">dataset</a>&nbsp;spanning&nbsp;many&nbsp;filetypes&nbsp;can&nbsp;be&nbsp;prodcued&nbsp;using&nbsp;this&nbsp;function&nbsp;<br>
(if&nbsp;only&nbsp;a&nbsp;single&nbsp;filetype&nbsp;is&nbsp;desired&nbsp;then&nbsp;it&nbsp;must&nbsp;be&nbsp;specified&nbsp;as&nbsp;["filetype"]).&nbsp;A&nbsp;<a href="#dataset">dataset</a>&nbsp;spanning&nbsp;images&nbsp;<br>
with&nbsp;different&nbsp;site&nbsp;info&nbsp;files&nbsp;can&nbsp;only&nbsp;be&nbsp;produced&nbsp;by&nbsp;combining&nbsp;several&nbsp;datasets&nbsp;with&nbsp;different&nbsp;site&nbsp;info&nbsp;files.&nbsp;&nbsp;<br>
All&nbsp;arguments&nbsp;to&nbsp;this&nbsp;function&nbsp;should&nbsp;be&nbsp;strings,&nbsp;including&nbsp;wavelength.&nbsp;All&nbsp;images&nbsp;in&nbsp;a&nbsp;<a href="#dataset">dataset</a>&nbsp;must&nbsp;have&nbsp;the&nbsp;<br>
same&nbsp;mode&nbsp;and&nbsp;the&nbsp;same&nbsp;colour&nbsp;table.&nbsp;Note&nbsp;that&nbsp;images&nbsp;in&nbsp;the&nbsp;directory&nbsp;supplied&nbsp;which&nbsp;do&nbsp;not&nbsp;conform&nbsp;to&nbsp;the&nbsp;<br>
<a href="#dataset">dataset</a>'s&nbsp;parameters&nbsp;will&nbsp;be&nbsp;ignored.</tt></dd></dl>
</td></tr></table>
</body></html>